{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Inflection","description":"Inflection API for generating word paradigms"},{"name":"Decks","description":"Deck management operations"},{"name":"Translation","description":"v2 Translation operations"},{"name":"Flashcards","description":"Flashcard management operations"},{"name":"Analysis","description":"v2 Analysis operations"},{"name":"Chat","description":"v2 Chat operations"}],"paths":{"/api/v2/chat/{chatId}/messages/{messageId}":{"put":{"tags":["Chat"],"summary":"Link analysis","description":"Links an analysis to a message in the chat.\nAlthough this endpoint modifies an object that might be owned by somebody, it is not authenticated\nso that it can be used anonymously. Both chatId and messageId are random UUIDs, which should preserve\na degree of security.\n","operationId":"updateMessage","parameters":[{"name":"chatId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"messageId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalysisEnrichmentDto"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/v2/analysis/{analysisId}":{"get":{"tags":["Analysis"],"operationId":"retrieveAnalysis","parameters":[{"name":"analysisId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PhraseAnalysis"}}}}}},"put":{"tags":["Analysis"],"operationId":"updateWithTranslation","parameters":[{"name":"analysisId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PhraseAnalysis"}}}}}}},"/api/v2/translations/word":{"post":{"tags":["Translation"],"summary":"Translate a word","description":"Translates a single word from Language A to Language B within the context\nof a given sentence.\n","operationId":"translateWord","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WordTranslationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WordTranslation"}}}}}}},"/api/v2/translations/phrase":{"post":{"tags":["Translation"],"summary":"Translate a phrase","description":"Translates a phrase from Language A to Language B.\nOptionally performs morphological analysis on the translation.\n","operationId":"translatePhrase","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PhraseTranslationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Translation"}}}}}}},"/api/v2/chat":{"get":{"tags":["Chat"],"summary":"Get all user chats","description":"Retrieves all chat sessions for the authenticated user.","operationId":"getUserChats","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChatDto"}}}}}}},"post":{"tags":["Chat"],"summary":"Initialize a new chat session","description":"Initializes a chat for a user and returns the initialized chat and first response.","operationId":"initializeChat","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatInitializationDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ChatInitializedDto"}}}}}}},"/api/v2/chat/{chatId}/messages":{"get":{"tags":["Chat"],"summary":"Get chat messages","description":"Retrieves all messages for a specific chat.","operationId":"getChatMessages","parameters":[{"name":"chatId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Message"}}}}}}},"post":{"tags":["Chat"],"summary":"Add a message to chat","description":"Sends a new message in the chat and returns the response.","operationId":"addMessage","parameters":[{"name":"chatId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"string"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Message"}}}}}}},"/api/v2/analysis":{"post":{"tags":["Analysis"],"summary":"Perform phrase analysis","description":"Analyzes a phrase and returns tokenized analysis for the given language.","operationId":"performAnalysis","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalysisRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PhraseAnalysis"}}}}}}},"/api/v1/inflection":{"post":{"tags":["Inflection"],"summary":"Inflect a word","description":"Retrieve inflected forms of a word. Stores all inflections in the database.\nUnique paradigm identifier is returned in the API response as paradigmId.\n","operationId":"performInflection","requestBody":{"description":"Inflections request example","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InflectionsRequest"},"examples":{"InflectionsRequestExample":{"summary":"Example inflection request","description":"InflectionsRequestExample","value":{"word":"laufen","languageCode":"de","pos":"VERB"}}}}},"required":true},"responses":{"200":{"description":"Word inflected successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParadigmDTO"}}}},"400":{"description":"Language or part of speech not supported","content":{"application/json":{"examples":{"UnsupportedLanguageOrPOS":{"summary":"Unsupported language or part of speech","description":"UnsupportedLanguageOrPOS","value":{"message":"Language or part of speech not supported"}}}}}}}}},"/api/v1/flashcard":{"post":{"tags":["Flashcards"],"summary":"Create a new flashcard","description":"Creates a new flashcard in the specified deck.","operationId":"createFlashcard","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FlashcardCreationDto"}}},"required":true},"responses":{"201":{"description":"Flashcard created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Flashcard"}}}},"400":{"description":"Invalid input","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Flashcard"}}}},"404":{"description":"Deck not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Flashcard"}}}}}}},"/api/v1/deck":{"get":{"tags":["Decks"],"summary":"Get decks","description":"Get all decks for the authenticated user.","operationId":"getDecks","responses":{"200":{"description":"Deck synced successfully","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DeckDto"}}}}},"401":{"description":"Unauthenticated","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DeckDto"}}}}}}},"post":{"tags":["Decks"],"summary":"Create a new deck","description":"Creates a new deck for the authenticated user.","operationId":"createDeck","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeckCreationDto"}}},"required":true},"responses":{"201":{"description":"Deck created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeckDto"}}}},"400":{"description":"Invalid input","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeckDto"}}}}}}},"/api/v1/deck/sync":{"post":{"tags":["Decks"],"summary":"Sync a deck","description":"Syncs flashcards for a deck.","operationId":"syncDeck","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeckExportDto"}}},"required":true},"responses":{"200":{"description":"Deck synced successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DeckDto"}}}},"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DeckDto"}}}},"404":{"description":"Deck not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DeckDto"}}}}}}},"/api/v1/deck/export":{"post":{"tags":["Decks"],"summary":"Export a deck","description":"Exports a deck in the specified format [APKG, DB]","operationId":"exportDeck","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeckExportDto"}}},"required":true},"responses":{"200":{"description":"Deck exported successfully","content":{"*/*":{"schema":{"type":"object"}}}},"400":{"description":"Invalid input","content":{"*/*":{"schema":{"type":"object"}}}},"404":{"description":"Deck not found","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/deck/{deckId}":{"get":{"tags":["Decks"],"summary":"Get deck","description":"Get a specific deck of the authenticated user by ID.","operationId":"getDeck","parameters":[{"name":"deckId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Deck retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeckDto"}}}},"401":{"description":"Unauthenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeckDto"}}}},"404":{"description":"Deck not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeckDto"}}}}}},"delete":{"tags":["Decks"],"summary":"Delete deck","description":"Deletes a deck by its ID","operationId":"deleteDeck","parameters":[{"name":"deckId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Deck deleted successfully","content":{"*/*":{"schema":{"type":"object"}}}},"401":{"description":"Unauthenticated","content":{"*/*":{"schema":{"type":"object"}}}},"404":{"description":"Deck not found","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/flashcard/{flashcardId}":{"delete":{"tags":["Flashcards"],"summary":"Delete a flashcard","description":"Deletes a flashcard by its ID","operationId":"deleteFlashcard","parameters":[{"name":"flashcardId","in":"path","description":"ID of the flashcard to delete","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Flashcard deleted successfully","content":{"*/*":{"schema":{"type":"object"}}}},"404":{"description":"Flashcard not found","content":{"*/*":{"schema":{"type":"object"}}}}}}}},"components":{"schemas":{"AnalysisEnrichmentDto":{"type":"object","properties":{"analysisId":{"type":"string","format":"uuid"}}},"Feature":{"type":"object","properties":{"type":{"type":"string","enum":["CASE","NUMBER","PERSON","TENSE","GENDER","ANIMACY","MISC"]},"value":{"type":"string"},"fullIdentifier":{"type":"string"}}},"Token":{"type":"object","properties":{"index":{"type":"integer","format":"int64","description":"The index of the token in the original text","example":0},"text":{"type":"string","description":"The text of the token","example":"Hello"},"translation":{"$ref":"#/components/schemas/WordTranslation","description":"The translation of the token, if available"},"morphology":{"$ref":"#/components/schemas/TokenMorphology","description":"The morphology of the token, including lemma and part of speech tag"}},"required":["index","morphology","text"]},"TokenMorphology":{"type":"object","properties":{"text":{"type":"string","description":"The text of the token","example":"goes"},"lemma":{"type":"string","description":"The lemma of the token","example":"go"},"features":{"type":"array","description":"A list of features associated with the token. May be empty.","example":[{"type":"TENSE","value":"PRES","fullIdentifier":"Present Tense"}],"items":{"$ref":"#/components/schemas/Feature"}},"pos":{"type":"string","description":"The part of speech tag for the token","enum":["ADJ","PROPN","NOUN","VERB","ADV","INTJ","ADP","AUX","CCONJ","DET","NUM","PART","PRON","SCONJ","PUNCT","SYM","X"],"example":"VERB"}},"required":["features","lemma","pos","text"]},"WordTranslation":{"type":"object","properties":{"source":{"type":"string","description":"The source text of the word","example":"Hello"},"translation":{"type":"string","description":"The translated text of the word","example":"Hola"},"sourceLanguage":{"type":"string","description":"The source language of the translation","enum":["RU","EN","DE","IT","ES","PT","FR","UNSUPPORTED"],"example":"en"},"targetLanguage":{"type":"string","description":"The target language of the translation","enum":["RU","EN","DE","IT","ES","PT","FR","UNSUPPORTED"],"example":"es"},"context":{"type":"string","description":"The context in which the word is used, if applicable","example":"Hello, how are you?"}},"required":["context","source","targetLanguage","translation"]},"PhraseAnalysis":{"type":"object","properties":{"analysisId":{"type":"string","description":"Unique identifier for the analysis","example":"123e4567-e89b-12d3-a456-426614174000"},"phrase":{"type":"string","description":"The phrase that was analyzed","example":"Wie geht es dir?"},"sourceLanguage":{"type":"string","description":"The source language of the phrase","enum":["RU","EN","DE","IT","ES","PT","FR","UNSUPPORTED"],"example":"DE"},"analysedTokens":{"$ref":"#/components/schemas/Token","description":"List of tokens with their morphological analysis"}},"required":["analysedTokens","analysisId","phrase","sourceLanguage"]},"WordTranslationRequest":{"type":"object","properties":{"source":{"type":"string","description":"The word to translate","example":"Bank"},"context":{"type":"string","description":"The context in which the word is used, to help disambiguate meanings","example":"Ich gehe nachher zur Bank, um Geld abzuheben."},"targetLanguage":{"type":"string","description":"The target language to translate the word into","enum":["RU","EN","DE","IT","ES","PT","FR","UNSUPPORTED"],"example":"EN"}},"required":["context","source","targetLanguage"]},"PhraseTranslationRequest":{"type":"object","properties":{"phrase":{"type":"string"},"targetLanguage":{"type":"string","enum":["RU","EN","DE","IT","ES","PT","FR","UNSUPPORTED"]},"sourceLanguage":{"type":"string","enum":["RU","EN","DE","IT","ES","PT","FR","UNSUPPORTED"]},"performAnalysis":{"type":"boolean"}},"required":["phrase","sourceLanguage","targetLanguage"]},"Translation":{"type":"object","properties":{"source":{"type":"string","description":"The original phrase in the source language.","example":"Hello, how are you?"},"translation":{"type":"string","description":"The translated phrase in the target language.","example":"Hola, ¿cómo estás?"},"sourceLanguage":{"type":"string","description":"The language code of the source language.","enum":["RU","EN","DE","IT","ES","PT","FR","UNSUPPORTED"],"example":"en"},"targetLanguage":{"type":"string","description":"The language code of the target language.","enum":["RU","EN","DE","IT","ES","PT","FR","UNSUPPORTED"],"example":"es"},"analysis":{"$ref":"#/components/schemas/PhraseAnalysis","description":"Analysis of the translated phrase, supplied if performAnalysis was set to\ntrue in the request.\n"}},"required":["source","sourceLanguage","targetLanguage","translation"]},"ChatInitializationDto":{"type":"object","properties":{"languageCode":{"type":"string","enum":["RU","EN","DE","IT","ES","PT","FR","UNSUPPORTED"]},"message":{"type":"string"}},"required":["languageCode","message"]},"ChatDto":{"type":"object","properties":{"chatId":{"type":"string","format":"uuid"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"summary":{"type":"string"}}},"ChatInitializedDto":{"type":"object","properties":{"chat":{"$ref":"#/components/schemas/ChatDto"},"response":{"$ref":"#/components/schemas/Message"}}},"Message":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"content":{"type":"string"},"role":{"type":"string","enum":["SYSTEM","USER","ASSISTANT","DEVELOPER"]},"chatId":{"type":"string"},"analysisId":{"type":"string","format":"uuid"}}},"AnalysisRequest":{"type":"object","properties":{"phrase":{"type":"string"},"language":{"type":"string","enum":["RU","EN","DE","IT","ES","PT","FR","UNSUPPORTED"]}}},"InflectionsRequest":{"type":"object","properties":{"languageCode":{"type":"string","enum":["RU","EN","DE","IT","ES","PT","FR","UNSUPPORTED"]},"lemma":{"type":"string"},"partOfSpeechTag":{"type":"string","enum":["ADJ","PROPN","NOUN","VERB","ADV","INTJ","ADP","AUX","CCONJ","DET","NUM","PART","PRON","SCONJ","PUNCT","SYM","X"]}},"required":["languageCode","lemma","partOfSpeechTag"]},"Inflection":{"type":"object","properties":{"lemma":{"type":"string","description":"Lemma of the inflected word","example":"laufen"},"inflected":{"type":"string","description":"Inflected form of the word","example":"läufst"},"features":{"type":"array","description":"Set of features associated with the inflected form","example":[{"type":"NUMBER","value":"SING","fullIdentifier":"Singular"},{"type":"PERSON","value":"SECOND","fullIdentifier":"Second Person"},{"type":"TENSE","value":"PRES","fullIdentifier":"Present Tense"}],"items":{"$ref":"#/components/schemas/Feature"},"uniqueItems":true}},"required":["features","inflected","lemma"]},"ParadigmDTO":{"type":"object","properties":{"paradigmId":{"type":"string","description":"Unique paradigm identifier for later retrieval","example":"123e4567-e89b-12d3-a456-426614174000"},"partOfSpeech":{"type":"string","description":"Part of speech for the paradigm","enum":["ADJ","PROPN","NOUN","VERB","ADV","INTJ","ADP","AUX","CCONJ","DET","NUM","PART","PRON","SCONJ","PUNCT","SYM","X"],"example":"VERB"},"lemma":{"type":"string","description":"Lemma of the inflected word","example":"laufen"},"language":{"type":"string","description":"Language code for the paradigm","enum":["RU","EN","DE","IT","ES","PT","FR","UNSUPPORTED"],"example":"DE"},"inflections":{"type":"array","description":"List of inflected forms for the paradigm","items":{"$ref":"#/components/schemas/Inflection"}}},"required":["inflections","language","lemma","paradigmId","partOfSpeech"]},"FlashcardCreationDto":{"type":"object","description":"Flashcard creation data","properties":{"deckId":{"type":"integer","format":"int64"},"question":{"type":"string"},"answer":{"type":"string"},"tokenPos":{"type":"string","enum":["ADJ","PROPN","NOUN","VERB","ADV","INTJ","ADP","AUX","CCONJ","DET","NUM","PART","PRON","SCONJ","PUNCT","SYM","X"]},"paradigmId":{"type":"string","format":"uuid"}},"required":["answer","deckId","question"]},"Flashcard":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"question":{"type":"string"},"answer":{"type":"string"},"tokenPos":{"type":"string","enum":["ADJ","PROPN","NOUN","VERB","ADV","INTJ","ADP","AUX","CCONJ","DET","NUM","PART","PRON","SCONJ","PUNCT","SYM","X"]},"paradigm":{"$ref":"#/components/schemas/Paradigm"},"status":{"type":"string","enum":["CREATED","UPDATED","EXPORTED"]},"createdTimestamp":{"type":"string","format":"date-time"},"updatedTimestamp":{"type":"string","format":"date-time"}},"required":["answer","question","status"]},"Paradigm":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"partOfSpeech":{"type":"string","enum":["ADJ","PROPN","NOUN","VERB","ADV","INTJ","ADP","AUX","CCONJ","DET","NUM","PART","PRON","SCONJ","PUNCT","SYM","X"]},"lemma":{"type":"string"},"languageCode":{"type":"string","enum":["RU","EN","DE","IT","ES","PT","FR","UNSUPPORTED"]},"inflections":{"type":"array","items":{"$ref":"#/components/schemas/Inflection"}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["languageCode","lemma","partOfSpeech"]},"DeckCreationDto":{"type":"object","description":"Deck creation data","properties":{"name":{"type":"string"},"description":{"type":"string"}},"required":["name"]},"DeckDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"description":{"type":"string"},"createdTimestamp":{"type":"string","format":"date-time"},"updatedTimestamp":{"type":"string","format":"date-time"},"flashcards":{"type":"array","items":{"$ref":"#/components/schemas/Flashcard"}}}},"DeckExportDto":{"type":"object","description":"Export data","properties":{"deckId":{"type":"integer","format":"int64"},"exportDataType":{"type":"string","enum":["APKG","DB"]}},"required":["deckId"]}}}}